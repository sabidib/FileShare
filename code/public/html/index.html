<html>
    <head>                
        <link rel="stylesheet" type="text/css" href="/css/style.css">

        <!--The following stylesheets are taken from: http://startbootstrap.com/template-overviews/stylish-portfolio/ -->
        <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="/css/stylish-portfolio.css">
        <link rel="stylesheet" type="text/css" href="/css/bootstrap-duallistbox.css">        
        <link rel="stylesheet" type="text/css" href="http://cdn.datatables.net/1.10.4/css/jquery.dataTables.min.css">        

        <!-- Fonts -->
        <link href="font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

        <!--Javascript includes -->                                
        <script src="/js/jquery-2.1.1.min.js"></script>
        <script src="http://cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script src="/js/jquery.bootstrap-duallistbox.min.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script src="http://cdn.binaryjs.com/0/binary.js"></script>
        <script src="/js/StreamRequest.js"></script>
        <script src="/js/Stream.js"></script>
        <script src="/js/Model.js"></script>
        <script src="/js/View.js"></script>
        <script src="/js/shareGroupCreationModal.js"></script>
        <script src="/js/FileBrowser.js"></script>
        <script src="/js/FileSelectionModal.js"></script>
        <script src="/js/Stream.js"></script>
        <script src="/js/StreamRequest.js"></script>
        <script src="/js/Controller.js"></script>
        <script src="/js/main.js"></script>
    </head>

    <body>      

        <!-- Login -->
        <div id='loginContainer'>
         <header id="top" class="header">
            <div class="text-vertical-center">
                <h1>Start Sharing</h1>
                 <!-- Login  view goes here-->               
                 <div id="login-box" class='container'>
                    <form class="form-signin" role="form">
                        <h2 class="form-signin-heading">Please sign in</h2>
                        <label for="inputUsername" data-trigger="manual" data-toggle='tooltip' class="sr-only">Username</label>
                        <input type="username" id="inputUsername" class="form-control" placeholder="username" required autofocus>
                        <br>
                        <button class="btn btn-lg btn-primary btn-block" data-trigger="manual" data-toggle='tooltip'id='signInButton'>Sign in</button>
                    </form>
                <br>
            </div>
        </header>
        </div>

        <div id='mainContainer' hidden>
             <header id="top" class="header">
                <div class="text-vertical-center">
                    <h1>Start Sharing <span class='usernameBlank'></span></h1>
                    <br>
                    <a id="share-button" href="#share-files" class="btn btn-dark btn-lg">Share</a>                
                    <a href="#files" class="btn btn-dark btn-lg">View</a>
                    <a id="refreshButton" class="btn btn-dark btn-lg">Refresh</a>
                    <a id="logout-button" class="btn btn-dark btn-lg">Logout</a>
                    <br>
                    <br>
                    <a id="shareGroupCreation" class="btn btn-dark btn-lg">Create a share group</a>
                    <input id="add-files-dialog" type="file" name="files[]" multiple>
                </div>
            </header>
        </div>



        <!-- File Selection Modal -->
        <div class="modal fade" id='shareGroupChoosingModal'>
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="fileSelectionModalHeader">You are about to share these files:</h4>
                 <div class="modal-body file-list">                    
                    <ul id='files-to-be-shared'></ul>                
                </div>
                <h4 class="modal-title">Who would you like to share with?</h4>
              </div>
              <div class="modal-body">
                <select id='shareGroupDualListBox' multiple="multiple" size="10">
                </select>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" id='submitShareWithGlobalGroup'>Share with everyone!</button>
                <button type="button" class="btn btn-primary" id='submitShareWith'>Share with</button>
              </div>
            </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->



        <!-- Share Group Creation Modal -->
        <div class="modal fade" id='shareGroupCreationModal'>
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Who would you like to have in your share group?</h4>
              </div>
                <input type="text" class="form-control" id="shareGroupNameToCreate" placeholder="Enter a share group name to create it!">   
              <div class="modal-body">
                <select id='userDualListBox' multiple="multiple" size="10">
                </select>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" id='createShareGroup'> Create share group</button>
                <button type="button" class="btn btn-primary" id='closeCreateShareGroup'> Cancel</button>
              </div>
            </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->






        <!-- Show shared files -->
        <section id="files" class="files" hidden>

          <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active"><a href="#sharing" aria-controls="Sharing" role="tab" data-toggle="tab">Sharing</a></li>
            <li role="presentation"><a href="#browsing" aria-controls="Browsing" role="tab" data-toggle="tab">Browsing</a></li>           
            <li role="presentation"><a href="#shareGroups" aria-controls="ShareGroups" role="tab" data-toggle="tab">Share Groups</a></li>
          </ul>

            <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="sharing">

                    <div class="container">
                        <div class="row">
                            <div class="col-lg-12 text-center">
                                <h2>You are sharing:</h2>
                                <div id="shared-files">
                                    No files being shared at this moment.
                                </div>
                            </div>
                        </div>
                        <!-- /.row -->
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane" id="browsing">


                    <div class="container">
                        <div class="row">
                            <div class="col-lg-12 text-center">
                                <h2>You can download or stream:</h2>                                
                                <div id="streamable-files">                                    
                                </div>
                            </div>
                        </div>
                        <!-- /.row -->
                    </div>                   


                </div>              
                    
                 
        
                
                <div role="tabpanel" class="tab-pane" id="shareGroups">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-12 text-center" id='shareGroupCreateDiv'>
                                <h2>You are a part of these share groups:</h2>                                
                                <div id="shareGroupList">                                    
                                </div>                            
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!-- /.container -->
        </section>


           <div id="audioFileDiv" style="border:1px;display:none;">                
                <audio controls id="audioFile" />                
            </div>           
            <div id="videoFileDiv" style="border:1px;display:none;">                
                <video id="videoFile" controls />                      
            </div>
    </body>
</html>




